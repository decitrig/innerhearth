{{define "Navbar"}}
<ul class="nav-links">
  <li class="nav-link"><a href="/">Home</a>
</ul>
{{end}}
{{define "body"}}
<div class="section">
  <h1>Announcements</h1>
  <table>
    <tr>
      <th>Text</th>
      <th>Expiration</th>
    </tr>
    {{range .Announcements}}
    <tr>
      <td>{{.GetText}}</td>
      <td>{{.Expiration.Format "1/2"}}</td>
      <td><a href="/staff/delete-announcement?id={{.ID}}">delete</a></td>
    </tr>
    {{end}}
  </table>
  <a href="/staff/add-announcement">Add Announcement</a>
</div>
<div class="section">
<h1>Teachers</h1>
{{with .Teachers}}
<table>
  {{range .}}
  <tr>
    <td>{{.FirstName}}</td>
    <td>{{.LastName}}</td>
    <td>{{.Email}}</td>
  </tr>
  {{end}}
</table>
{{end}}
<form action="/staff/add-teacher" method="get">
  <input type="email" required="required" name="email" id="email" placeholder="address@email.com" />
  <button>Add Teacher</button>
</form>
</div>
<div class="section">
<h1>Classes</h1>
<table class="class-table">
  {{range $day, $classes := .Classes}}
  {{with $classes}}
  <tr class="weekday">
    <th colspan="4">{{indexAsWeekday $day}}</th>
  </tr>
  {{range .}}
  <tr>
    <td>{{.Title}}</td>
    <td>{{.Teacher.FirstName}}</td>
    <td>{{.StartTime.Format "3:04pm"}} &ndash; {{.EndTime.Format "3:04pm"}}</td>
    <td>
      {{if not .DropInOnly}}
      {{.BeginDate.Format "1/2"}} &ndash; {{.EndDate.Format "1/2"}}
      {{else}}
      <i>Drop-in Only</i>
      {{end}}
    </td>
    <td>
      <a href="/teacher/roster?class={{.ID}}">roster</a>
    </td>
    <td>
      <a href="/staff/edit-class?class={{.ID}}">edit</a>
    </td>
    <td>
      <a href="/staff/reschedule-class?class={{.ID}}">reschedule</a>
    </td>
    <td>
      <a href="/staff/delete-class?class={{.ID}}">delete</a>
    </td>
  </tr>
  {{end}}
  {{end}}
  {{end}}
</table>
<a href="/staff/add-class">Add Class</a>
</div>
{{end}}
